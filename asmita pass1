#include <iostream>
#include <cstring>
using namespace std;

struct Symbol {
    char name[10];
    int addr;
} symtab[10] = {{"A", 102}, {"B", 104}, {"C", 105}};

struct Literal {
    char lit[10];
    int addr;
} littab[10] = {{"=5", 103}};

int symcount = 3, litcount = 1;

int getSymbolAddr(char sym[]) {
    for (int i = 0; i < symcount; i++) {
        if (strcmp(symtab[i].name, sym) == 0)
            return symtab[i].addr;
    }
    return -1;
}

int getLiteralAddr(char lit[]) {
    for (int i = 0; i < litcount; i++) {
        if (strcmp(littab[i].lit, lit) == 0)
            return littab[i].addr;
    }
    return -1;
}

int main() {
    int n;
    char type[10], operand[10];
    
    cout << "Enter number of Intermediate Code instructions: ";
    cin >> n;

    cout << "\nEnter Intermediate Code lines (Example: IS,04 A  OR  DL,01 2):\n";

    for (int i = 0; i < n; i++) {
        cin >> type >> operand;

        if (strncmp(type, "IS,", 3) == 0) {
            char opcode[5];
            strncpy(opcode, type + 3, 2);
            opcode[2] = '\0';
            int addr = (operand[0] == '=') ? getLiteralAddr(operand) : getSymbolAddr(operand);
            cout << "Machine Code: + " << opcode << " " << addr << endl;
        } 
        else if (strcmp(type, "DL,01") == 0)
            cout << "Machine Code: - 00 " << operand << endl;
        else if (strcmp(type, "DL,02") == 0)
            cout << "Machine Code: - 00 00" << endl;
    }

    return 0;
}

/* Input
6
IS,09 A
IS,04 =5
IS,05 B
IS,01 C
DL,01 2
DL,02 1
*/
